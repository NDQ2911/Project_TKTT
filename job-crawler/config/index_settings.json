{
    "settings": {
        "index": {
            "max_ngram_diff": 18,
            "max_shingle_diff": 3,
            "number_of_shards": 1,
            "number_of_replicas": 0
        },
        "analysis": {
            "char_filter": {
                "html_strip_filter": {
                    "type": "html_strip"
                }
            },
            "filter": {
                "vietnamese_stopwords": {
                    "type": "stop",
                    "stopwords": [
                        "một",
                        "các",
                        "những",
                        "này",
                        "đó",
                        "kia",
                        "ấy",
                        "tôi",
                        "bạn",
                        "anh",
                        "chị",
                        "em",
                        "họ",
                        "chúng",
                        "ta",
                        "và",
                        "hoặc",
                        "hay",
                        "với",
                        "của",
                        "cho",
                        "từ",
                        "đến",
                        "tại",
                        "về",
                        "trong",
                        "ngoài",
                        "trên",
                        "dưới",
                        "giữa",
                        "bên",
                        "qua",
                        "để",
                        "mà",
                        "là",
                        "được",
                        "có",
                        "bị",
                        "sẽ",
                        "đang",
                        "đã",
                        "vẫn",
                        "còn",
                        "chưa",
                        "không",
                        "gì",
                        "ai",
                        "đâu",
                        "nào",
                        "sao",
                        "thế",
                        "như",
                        "bao",
                        "rất",
                        "lắm",
                        "nhiều",
                        "ít",
                        "hơn",
                        "nhất",
                        "cùng",
                        "luôn",
                        "việc",
                        "làm",
                        "cần",
                        "tuyển",
                        "công",
                        "ty"
                    ],
                    "ignore_case": true
                },
                "job_synonyms": {
                    "type": "synonym",
                    "synonyms": [
                        "ho chi minh, hcm, sai gon, saigon, tp hcm, tphcm",
                        "ha noi, hn, thu do",
                        "da nang, dng",
                        "nhan vien, nv, staff",
                        "truong phong, manager, quan ly",
                        "giam doc, director, ceo",
                        "ke toan, accountant",
                        "ky su, engineer",
                        "lap trinh vien, developer, dev, programmer",
                        "thiet ke, designer",
                        "kinh doanh, sales, ban hang",
                        "marketing, tiep thi",
                        "nhan su, hr, human resources",
                        "hanh chinh, admin",
                        "toan thoi gian, full time, fulltime",
                        "ban thoi gian, part time, parttime",
                        "thuc tap, intern, internship",
                        "remote, lam viec tu xa, work from home, wfh",
                        "it, cntt, cong nghe thong tin",
                        "khong yeu cau, fresher, moi tot nghiep"
                    ],
                    "lenient": true
                },
                "shingle_filter": {
                    "type": "shingle",
                    "min_shingle_size": 2,
                    "max_shingle_size": 3,
                    "output_unigrams": true
                },
                "autocomplete_filter": {
                    "type": "edge_ngram",
                    "min_gram": 2,
                    "max_gram": 15,
                    "preserve_original": true
                }
            },
            "analyzer": {
                "vietnamese": {
                    "type": "custom",
                    "char_filter": [
                        "html_strip_filter"
                    ],
                    "tokenizer": "standard",
                    "filter": [
                        "lowercase",
                        "asciifolding",
                        "vietnamese_stopwords",
                        "job_synonyms"
                    ]
                },
                "vietnamese_search": {
                    "type": "custom",
                    "tokenizer": "standard",
                    "filter": [
                        "lowercase",
                        "asciifolding",
                        "job_synonyms"
                    ]
                },
                "vietnamese_exact": {
                    "type": "custom",
                    "tokenizer": "standard",
                    "filter": [
                        "lowercase",
                        "asciifolding"
                    ]
                },
                "vietnamese_suggest": {
                    "type": "custom",
                    "tokenizer": "standard",
                    "filter": [
                        "lowercase",
                        "shingle_filter"
                    ]
                },
                "autocomplete": {
                    "type": "custom",
                    "tokenizer": "standard",
                    "filter": [
                        "lowercase",
                        "asciifolding",
                        "autocomplete_filter"
                    ]
                },
                "autocomplete_search": {
                    "type": "custom",
                    "tokenizer": "standard",
                    "filter": [
                        "lowercase",
                        "asciifolding"
                    ]
                }
            }
        }
    },
    "mappings": {
        "properties": {
            "id": {
                "type": "keyword"
            },
            "title": {
                "type": "text",
                "analyzer": "vietnamese",
                "search_analyzer": "vietnamese_search",
                "fields": {
                    "keyword": {
                        "type": "keyword"
                    },
                    "suggest": {
                        "type": "text",
                        "analyzer": "vietnamese_suggest"
                    },
                    "autocomplete": {
                        "type": "text",
                        "analyzer": "autocomplete",
                        "search_analyzer": "autocomplete_search"
                    }
                }
            },
            "company": {
                "type": "text",
                "analyzer": "vietnamese",
                "fields": {
                    "keyword": {
                        "type": "keyword"
                    }
                }
            },
            "location": {
                "type": "text",
                "analyzer": "vietnamese",
                "fields": {
                    "keyword": {
                        "type": "keyword"
                    }
                }
            },
            "location_city": {
                "type": "keyword"
            },
            "location_district": {
                "type": "keyword"
            },
            "position": {
                "type": "keyword"
            },
            "salary": {
                "type": "text",
                "fields": {
                    "keyword": {
                        "type": "keyword"
                    }
                }
            },
            "salary_min": {
                "type": "integer"
            },
            "salary_max": {
                "type": "integer"
            },
            "is_negotiable": {
                "type": "boolean"
            },
            "work_type": {
                "type": "keyword"
            },
            "industry": {
                "type": "keyword"
            },
            "field": {
                "type": "keyword"
            },
            "experience": {
                "type": "keyword"
            },
            "experience_tags": {
                "type": "keyword"
            },
            "qualifications": {
                "type": "keyword"
            },
            "description": {
                "type": "text",
                "analyzer": "vietnamese"
            },
            "requirements": {
                "type": "text",
                "analyzer": "vietnamese"
            },
            "benefits": {
                "type": "text",
                "analyzer": "vietnamese"
            },
            "skills": {
                "type": "keyword"
            },
            "source": {
                "type": "keyword"
            },
            "source_url": {
                "type": "keyword"
            },
            "total_views": {
                "type": "integer"
            },
            "total_resume_applied": {
                "type": "integer"
            },
            "rate_response": {
                "type": "float"
            },
            "company_website": {
                "type": "keyword"
            },
            "occupational_category": {
                "type": "keyword"
            },
            "employment_type": {
                "type": "keyword"
            },
            "expired_at": {
                "type": "date"
            },
            "created_at": {
                "type": "date"
            },
            "updated_at": {
                "type": "date"
            },
            "crawled_at": {
                "type": "date"
            }
        }
    }
}